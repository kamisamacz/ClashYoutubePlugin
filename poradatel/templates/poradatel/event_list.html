{% extends "base.html" %}

{% block content %}
<h2 style="text-align: center;">ğŸ“… Seznam veÅ™ejnÃ½ch eventÅ¯</h2>

{% for event in events %}
    <div style="background: #333; color: white; padding: 15px; margin: 15px auto; max-width: 600px; border-radius: 10px;">
        <h3 style="margin: 0;">{{ event.name }}</h3>
        <p>ğŸ—“ Datum: {{ event.date }}</p>
        <p>ğŸ“ MÃ­sto: {{ event.location }}</p>
        <p>ğŸ‘¥ VolnÃ¡ mÃ­sta: {{ event.available_slots }}</p>

        {% if request.user.is_authenticated %}
            {% if request.user in event.participants.all %}
                <p style="color: lightgreen;">âœ… Jsi pÅ™ihlÃ¡Å¡en</p>
                <a href="{% url 'leave_event' event.id %}" style="color: #ff6666;">âŒ OdhlÃ¡sit se</a>
            {% else %}
                <a href="{% url 'join_event' event.id %}" style="color: #66ff66;">âœ… PÅ™ihlÃ¡sit se</a>
            {% endif %}
        {% else %}
            <p style="color: #ccc;">ğŸ”’ PÅ™ihlas se pro moÅ¾nost ÃºÄasti.</p>
        {% endif %}
    </div>
{% empty %}
    <p style="text-align: center;"><center>Å½Ã¡dnÃ© eventy nejsou k dispozici.</center></p>
{% endfor %}
{% endblock %}
